<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Projeto GO</title>

    
    <style tyle="text/css">
        body{
            background-color: rgb(25, 192, 25);
            margin: 0 auto;
        }
        .cartafrente {
            background: linear-gradient(to right, rgb(102, 125, 182), rgb(0, 130, 200), rgb(0, 130, 200), rgb(102, 125, 182));
            border-radius: 10px;
            border: 1px solid black; 

            height: 450px;
            width: 270px; 
            
            margin-left: 43%;
            margin-top: 180px;
            
        }

        .sumir{
            display: none;
        }

        .cartaverso{
            background: linear-gradient(to right, rgb(51, 51, 51), rgb(221, 24, 24), rgb(221, 24, 24), rgb(221, 24, 24), rgb(51, 51, 51));
            border-radius: 10px;
            border: 1px solid black; 

            height: 450px;
            width: 270px; 
            
            margin-left: 43%;
            margin-top: 180px;
        }
        .barra-nome{
            background-color: rgb(18, 160, 18);
            height: 80px;
        }
        .title{
            font-family: Helvetica, sans-serif;
            text-align: center;
            color: white;
            font-size: 40px;       
            padding: 15px;
        }
        

    </style>
        
        <div class=carta><style>
            .frase {
                color: white;
                font-size: 40px;
                text-align: center;
            }
            
            .btn {
                font-family: Arial, Helvetica, sans-serif;
                font-size: 30px;
                border-radius: 10px;
                border: 1px solid black; 
                background-color: #df1e17;
                color: white;
                text-align:center;

                width: 270px;
                height: 50px;

                
                margin-top: 15px;
                margin-left: 43%;
            }

            .btn-config{
                box-shadow: 0 4px 8px 0 rgba(58, 57, 57, 0.2);
                transition: 0.3s;

                outline: none;
                cursor: pointer;
                transition-duration: 0.4s; 
            }
            .btn-config:hover{
                box-shadow: 0 4px 8px 0 rgba(185, 174, 174, 0.2);
            }
        </style></div>
</head>

<body>
    <header = class="barra">
        <div = class="barra-nome">
            <div = class="title">Relembrando..</div>
        </div>
    </header>
    
    
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script>
        let arrayPalavras;
        
        $.ajax({
            type: 'GET',
            url : 'http://localhost:8080/palavras',
            dataType: 'json',
            success: function(data) {
                arrayPalavras = data
            },
            error: function(e){
                console.log(e);
            }
        }).then(() => {
            var cont = 0
            let i = 0
            arrayPalavras.forEach(element => {cont++;});
            arrayPalavras.forEach(element => {
                
                $(`
                
                <div class="sumir" id="palavraID${i}">
                    <div id="frente${i}">
                        <button class="cartafrente frase btn-config" onclick="traducao('${i}')">${element.Original}</button>
                    </div>
                    <div id="verso${i}" class="sumir">
                        <button class="cartaverso frase btn-config" onclick="original('${i}')">${element.Traducao}</button>   
                    </div>
                    <button class="btn btn-config" onclick="proximo('${i}')">Pr√≥ximo</button>
                </div>
                `).appendTo('body');
                i++
            });
            document.getElementById(`palavraID${Math.floor(Math.random() * cont) }`).classList.remove("sumir")
        });
        
        function traducao(id){
            sumir('frente'+id)
            aparecer('verso'+id)
        }
        function proximo(idAtual){
            sumir('palavraID'+idAtual)
            aparecer(`palavraID${Math.floor(Math.random()*arrayPalavras.length)}`)
        }
        function original(id){
            aparecer('frente'+id)
            sumir('verso'+id)
        }

        function sumir(id){
            document.getElementById(id).classList.add("sumir")
        }
        function aparecer(id){
            document.getElementById(id).classList.remove("sumir")
        }
    </script>
</body>
</html>